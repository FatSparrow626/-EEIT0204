<template>
  <div class="maintenance-user">
    <div class="header">
      <h1>ğŸ” ä¿é¤Šè¨˜éŒ„æŸ¥è©¢</h1>
    </div>

    <!-- æœå°‹çµ„ä»¶ï¼šæ°¸é é¡¯ç¤º -->
    <MaintenanceSearch @search-complete="handleSearchComplete" @search-clear="handleSearchClear" />

    <!-- åŸæœ¬çš„ä¿é¤Šè¨˜éŒ„åˆ—è¡¨ï¼šåªæœ‰åœ¨æ²’æœ‰æœå°‹æ™‚æ‰é¡¯ç¤º -->
    <MaintenanceList v-if="showOriginalList" />
  </div>
</template>

<script setup>
import { ref } from 'vue'
import MaintenanceList from './user/UserMaintenanceList.vue'
import MaintenanceSearch from './user/UserMaintenanceSearch.vue'

// æ§åˆ¶é¡¯ç¤ºç‹€æ…‹ï¼štrue=é¡¯ç¤ºåŸæœ¬åˆ—è¡¨ï¼Œfalse=é¡¯ç¤ºæœå°‹çµæœ
const showOriginalList = ref(true)

// ç•¶æœå°‹å®Œæˆæ™‚
const handleSearchComplete = () => {
  showOriginalList.value = false
}

// ç•¶æ¸…é™¤æœå°‹æ™‚
const handleSearchClear = () => {
  showOriginalList.value = true // é¡¯ç¤ºåŸæœ¬åˆ—è¡¨
}
</script>

<style scoped>
.maintenance-user,
.maintenance-admin {
  display: flex;
  flex-direction: column;
  gap: 20px; /* åŠ å…¥å‚ç›´é–“è· */
}
</style>
